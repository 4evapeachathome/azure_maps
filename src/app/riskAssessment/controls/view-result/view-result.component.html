<div class="common-container risk-assessment-container h-100">
  <ion-grid class="p-0 h-100">
    <ion-row class="h-100">
      <!-- Left Image Panel -->
      <!-- <ion-col size="12" size-sm="12" size-lg="6" class="ra-banner order2">
        <div class="risk-login-banner banner-img"></div>
      </ion-col> -->

      <!-- Right Form Panel -->
      <ion-col size="12" size-sm="12" size-lg="12" class="ra-form-container order1">
        <ion-card class="form-container rafc-container">
          <ion-grid class="d-flex-h-100">
            <ion-row>
              <ion-col size="12" size-sm="12">
                <div class="user-info">
                  <ion-text>Hi, {{ loggedInUser?.username || "User" }}</ion-text>

                  <div class="dropdown">
                    <ion-button shape="round" fill="clear">
                      <ion-icon name="person-circle"></ion-icon>
                    </ion-button>
                    <div class="dropdown-content">
                      <a (click)="logout()">Logout</a>
                    </div>
                  </div>
                </div>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col size="12" size-sm="12" size-lg="5">
                <strong class="case-number">Case Number: {{" " + caseNumber}}</strong>
              </ion-col>
              <ion-col size="12" size-sm="12" size-lg="7" class="radio-selected-container">
                <ion-radio-group [(ngModel)]="guidedType" [allowEmptySelection]="true">
                  <ion-radio [value]="guidedType" labelPlacement="end" mode="md" class="guided-label">{{ guidedTypeLabel }}</ion-radio>
                </ion-radio-group>
              </ion-col>
            </ion-row>
            <ion-row>
              <ion-col size="12" size-sm="12">
                <h2>{{ assessmentTitle }}</h2>
              </ion-col>
            </ion-row>
            <ion-row class="assessment-summary-text" *ngIf="isHitAssessment">
              <ion-col>
                <ion-text>
                  Thanks for taking the <strong>{{ selectedAssessment }}</strong> assessment.<br /><br />
                  <strong> Here is your score: </strong><br /><span class="score">{{ riskValue }}</span><br />
                  <strong>Note:</strong> {{ note }}<br />
                  <strong>Caution:</strong> {{ caution }}
                </ion-text>
              </ion-col>
            </ion-row>

            <ion-row class="assessment-summary-text" *ngIf="isRatAssessment">
              <ion-col>
                <ion-text *ngFor="let item of ratAssessmentResultList">
                  Thanks for taking <strong>{{ selectedAssessment }}</strong> assessment.<br /><br />

                  <div>Your score is: <span class="score">{{ item.assessmentScore }}</span></div>
                  <div class="result" *ngIf="guidedType?.toLowerCase() == 'staff-guided'">Status: {{item.assessmentScore >= 20 ?
                    'Positive' : 'Negative'}}</div>

                  <strong *ngIf="qCodeValue !== ''"> Here is the access code for your assessment:
                  </strong><br /><br />

                  <ion-row>
                    <ion-col size="12" size-sm="12">
                      <div *ngIf="qCodeValue !== ''">
                        <qrcode #qrcodeElement [qrdata]="qCodeValue" [width]="100" [errorCorrectionLevel]="'M'"></qrcode>
                      </div>
                    </ion-col>
                  </ion-row>

                  
                  <div class="summary">Summary:</div>

                   <!-- <div>
                    <app-assessment-table [selectedAssessment]="this.selectedAssessment"></app-assessment-table>
                  </div> -->

                </ion-text>
              </ion-col>
            </ion-row>

            <table class="faq-table">
              <thead>
                <tr>
                  <th scope="col">Question</th>
                  <th scope="col">Answer</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of responseJson">
                  <td>{{ item.question }}</td>
                  <td>{{ item.answer }}</td>
                </tr>
              </tbody>
            </table>

          </ion-grid>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</div>