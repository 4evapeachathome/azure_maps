<div class="gauge-container">
  <div class="gauge">
    <!-- Background arc -->
    <svg class="gauge-bg" viewBox="0 0 200 120">
      <path
        d="M20,100 A80,80 0 0,1 180,100"
        fill="none"
        stroke="#ddd"
        stroke-width="8"/>
    </svg>

    <!-- Colored segments -->
    <svg class="gauge-segments" viewBox="0 0 200 120">
      <ng-container *ngFor="let segment of segments">
        <path
            [attr.d]="segment.path"
            [attr.stroke]="segment.color"
            fill="none"
            stroke-width="8"/>
      </ng-container>
    </svg>

    <!-- Score Display -->
    <div class="score-display">
      <div class="value">{{value | number:'1.0-0'}}</div>
    </div>

    <!-- Pointer -->
    <div class="pointer">
      <div class="needle" [style.transform]="'rotate(' + rotation + ')'">
        <div class="needle-base" [style.background-color]="gaugeColor"></div>
        <div class="needle-stem" [style.background-color]="gaugeColor"></div>
      </div>
    </div>
    
    <!-- Value markers -->
    <div class="markers">
      <span *ngFor="let marker of markers"
            class="marker"
            [style.color]="marker.color">
        {{ marker.value }}
      </span>
    </div>
  </div>

  <!-- Legend -->
  <div class="legend">
    <div *ngFor="let range of ranges" class="legend-item">
      <span class="color-box" [style.background-color]="range.color"></span>
      <span class="label">{{ range.label || range.min + '-' + range.max }}</span>
    </div>
  </div>
</div>
