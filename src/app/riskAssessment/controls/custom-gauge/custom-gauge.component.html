<div #gaugeContainer class="gauge-container">
  <div class="gauge">
    <!-- Background arc -->
    <svg class="gauge-bg" viewBox="0 0 200 120" preserveAspectRatio="xMidYMid meet" width="100%" height="100%">
      <path
        [attr.d]="describeArc(100, 100, 80, -90, 90)"
        fill="none"
        stroke="#ddd"
        stroke-width="35"
      />
    </svg>

    <!-- Colored segments -->
    <svg class="gauge-segments" viewBox="0 0 200 120">
      <ng-container *ngFor="let s of segments">
        <path
          [attr.d]="s.path"
          [attr.stroke]="s.color"
          stroke-width="35"
          stroke-linecap="butt"
          fill="none" />
      </ng-container>
    </svg>

    <!-- Score Display -->
    <div class="score-display" style="display: none;">
      <div class="value">{{value | number:'1.0-0'}}</div>
    </div>

    <!-- Pointer -->
    <div class="pointer">
      <div class="needle" [style.transform]="'rotate(' + rotation + ')'">
        <div class="needle-base" [style.background-color]="gaugeColor"></div>
        <div class="needle-stem" [style.border-bottom-color]="gaugeColor"></div>
      </div>
    </div>

    <!-- Value markers -->
    <div class="markers" style="display: none;">
      <span *ngFor="let marker of markers"
            class="marker"
            [style.color]="marker.color">
        {{ marker.value }}
      </span>
    </div>
  </div>
</div>