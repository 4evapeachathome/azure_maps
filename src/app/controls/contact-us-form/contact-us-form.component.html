<ion-grid>
  <ion-row>
    <ion-col>
      <ion-text color="primary">
        <h2>Contact Us</h2>
      </ion-text>
      
      <ion-text color="medium">
        <p class="ion-padding-bottom">
          Whether <span class="highlight">YOU NEED HELP</span> with our app or want to
          <span class="highlight">SUPPORT OUR MISSION</span>, reach out to us for assistance or to discuss funding opportunities.
        </p>
      </ion-text>

      <ion-card class="form-container">
        <ion-card-content>
          <form (ngSubmit)="onSubmit()" #contactForm="ngForm">
            <ion-item>
              <ion-label position="floating">Name</ion-label>
              <ion-input
                type="text"
                [(ngModel)]="formData.name"
                name="name"
                required
                minlength="3"
                #name="ngModel"
                class="custom-input">
              </ion-input>
            </ion-item>
            <ion-text color="danger" *ngIf="name.invalid && (name.dirty || name.touched)" class="validation-error">
              <p *ngIf="name.errors?.['required']">Name is required.</p>
              <p *ngIf="name.errors?.['minlength']">Name must be at least 3 characters long.</p>
            </ion-text>
          
            <ion-item>
              <ion-label position="floating">Email</ion-label>
              <ion-input
                type="email"
                [(ngModel)]="formData.email"
                name="email"
                required
                email
                pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                #email="ngModel"
                class="custom-input">
              </ion-input>
            </ion-item>
            <ion-text color="danger" *ngIf="email.invalid && (email.dirty || email.touched)" class="validation-error">
              <p *ngIf="email.errors?.['required']">Email is required.</p>
              <p *ngIf="email.errors?.['pattern']">Please enter a valid email address.</p>
            </ion-text>
          
            <ion-item>
              <ion-label position="floating">Your Feedback</ion-label>
              <ion-textarea
                [(ngModel)]="formData.feedback"
                name="feedback"
                required
                minlength="3"
                #feedback="ngModel"
                class="custom-input">
              </ion-textarea>
            </ion-item>
            <ion-text color="danger" *ngIf="feedback.invalid && (feedback.dirty || feedback.touched)" class="validation-error">
              <p *ngIf="feedback.errors?.['required']">Feedback is required.</p>
              <p *ngIf="feedback.errors?.['minlength']">Feedback must be at least 3 characters long.</p>
            </ion-text>
            <!-- Captcha -->
            <div class="captcha-container">
              <div #recaptcha></div>
              <ion-button (click)="onSubmit()" expand="block" [disabled]="!isCaptchaVerified">
                Submit Form
              </ion-button>
            </div>
          
            <div class="ion-padding-top button-group">
              <ion-button fill="solid" type="button" class="btn-clr" (click)="onClear()">Clear</ion-button>
              <ion-button fill="solid" type="submit" class="btn-submit" [disabled]="!contactForm.valid">Submit</ion-button>
            </div>
          </form>
        </ion-card-content>
      </ion-card>

      <ion-text color="medium">
        <p class="footer-note">
          If you are in immediate danger, please <span class="highlight">CONTACT THE LOCAL LAW ENFORCEMENT</span> right away.
        </p>
      </ion-text>
    </ion-col>
    <ion-col>
      <ion-img class="contact-img" src="../../../assets/contactusimg/Group.svg" alt="Contact Us"></ion-img>
    </ion-col>
  </ion-row>
</ion-grid>